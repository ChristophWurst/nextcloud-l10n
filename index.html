<!DOCTYPE html><html class="default" lang="en" data-base="."><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@nextcloud/l10n</title><meta name="description" content="Documentation for @nextcloud/l10n"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search"><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"><a href="https://github.com/nextcloud-libraries/nextcloud-l10n/">GitHub</a><a href="https://docs.nextcloud.com/server/stable/developer_manual/basics/front-end/l10n.html">Nextcloud</a></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">@nextcloud/l10n</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>@nextcloud/l10n</h1></div><div class="tsd-panel tsd-typography"><!--
  - SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors
  - SPDX-License-Identifier: GPL-3.0-or-later
-->
<a id="nextcloudl10n-1" class="tsd-anchor"></a><h1 class="tsd-anchor-link">@nextcloud/l10n<a href="#nextcloudl10n-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p><a href="https://api.reuse.software/info/github.com/nextcloud-libraries/nextcloud-l10n"><img src="https://api.reuse.software/badge/github.com/nextcloud-libraries/nextcloud-l10n" alt="REUSE status"></a>
<a href="https://github.com/nextcloud-libraries/nextcloud-l10n/actions/workflows/node.yml"><img src="https://img.shields.io/github/actions/workflow/status/nextcloud-libraries/nextcloud-l10n/node.yml?branch=master" alt="Build Status"></a>
<a href="https://www.npmjs.com/package/@nextcloud/l10n"><img src="https://img.shields.io/npm/v/@nextcloud/l10n.svg" alt="npm"></a>
<a href="https://nextcloud.github.io/nextcloud-l10n/"><img src="https://img.shields.io/badge/Documentation-online-brightgreen" alt="Documentation"></a></p>
<p>Nextcloud L10n helpers for apps and libraries.</p>
<a id="installation" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Installation<a href="#installation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">i</span><span class="hl-1"> -</span><span class="hl-2">S</span><span class="hl-1"> @</span><span class="hl-0">nextcloud</span><span class="hl-1">/</span><span class="hl-0">l10n</span>
</code><button>Copy</button></pre>

<a id="usage" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Usage<a href="#usage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="with-nextcloud-based-translations" class="tsd-anchor"></a><h3 class="tsd-anchor-link">With Nextcloud based translations<a href="#with-nextcloud-based-translations" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Apps normally use the Nextcloud provided translation mechanism which allows to translate backend (PHP) strings together with the frontend.
This can either be done using the Nextcloud Transifex automatization or translations can be done manually.
See the <a href="https://docs.nextcloud.com/server/stable/developer_manual/basics/front-end/l10n.html">localization docs</a> for how to setup.</p>
<p>When using the Nextcloud translation system (manually or with automated Transifex) Nextcloud will automatically
register the translations on the frontend.
In this case all you have to do is to import the translation functions from this package like shown below:</p>
<pre><code class="js"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-0">t</span><span class="hl-1">, </span><span class="hl-0">n</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-4">&#39;@nextcloud/l10n&#39;</span><br/><span class="hl-5">// Or</span><br/><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-0">translate</span><span class="hl-1"> </span><span class="hl-3">as</span><span class="hl-1"> </span><span class="hl-0">t</span><span class="hl-1">, </span><span class="hl-0">translatePlural</span><span class="hl-1"> </span><span class="hl-3">as</span><span class="hl-1"> </span><span class="hl-0">n</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-4">&#39;@nextcloud/l10n&#39;</span>
</code><button type="button">Copy</button></pre>

<div class="tsd-alert tsd-alert-note"><div class="tsd-alert-title"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><use href="assets/icons.svg#icon-alertNote"></use></svg><span>Note</span></div><p>
In order to not break the l10n string extraction scripts, make sure to use the aliases <code>t</code> and <code>n</code>.</p>
</div>
<a id="translate-singular-string" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Translate singular string<a href="#translate-singular-string" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="js"><span class="hl-6">t</span><span class="hl-1">(</span><span class="hl-4">&#39;myapp&#39;</span><span class="hl-1">, </span><span class="hl-4">&#39;Hello!&#39;</span><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

<a id="translate-singular-string-with-placeholders" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Translate singular string with placeholders<a href="#translate-singular-string-with-placeholders" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="js"><span class="hl-6">t</span><span class="hl-1">(</span><span class="hl-4">&#39;myapp&#39;</span><span class="hl-1">, </span><span class="hl-4">&#39;Hello {name}!&#39;</span><span class="hl-1">, { </span><span class="hl-0">name:</span><span class="hl-1"> </span><span class="hl-4">&#39;Jane&#39;</span><span class="hl-1"> })</span>
</code><button type="button">Copy</button></pre>

<p>By default placeholders are sanitized and escaped to prevent XSS.
But you can disable this behavior if you trust the user input:</p>
<pre><code class="js"><span class="hl-6">t</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-4">&#39;myapp&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">&#39;See also the {linkStart}documentation{linkEnd}.&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  {</span><br/><span class="hl-1">    </span><span class="hl-0">linkStart:</span><span class="hl-1"> </span><span class="hl-4">&#39;&lt;a href=&quot;http://example.com&quot;&gt;&#39;</span><br/><span class="hl-1">    </span><span class="hl-0">linkEnd</span><span class="hl-1">: </span><span class="hl-4">&#39;&lt;/a&gt;&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-7">undefined</span><span class="hl-1">, </span><span class="hl-5">// this would be a number replacement</span><br/><span class="hl-1">  { </span><span class="hl-0">escape:</span><span class="hl-1"> </span><span class="hl-7">false</span><span class="hl-1"> },</span><br/><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

<a id="translate-plural-string" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Translate plural string<a href="#translate-plural-string" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="js"><span class="hl-6">n</span><span class="hl-1">(</span><span class="hl-4">&#39;myapp&#39;</span><span class="hl-1">, </span><span class="hl-4">&#39;%n cloud&#39;</span><span class="hl-1">, </span><span class="hl-4">&#39;%n clouds&#39;</span><span class="hl-1">, </span><span class="hl-8">100</span><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

<p>Of course also placeholders are possible:</p>
<pre><code class="js"><span class="hl-6">n</span><span class="hl-1">(</span><span class="hl-4">&#39;myapp&#39;</span><span class="hl-1">, </span><span class="hl-4">&#39;{name} owns %n file&#39;</span><span class="hl-1">, </span><span class="hl-4">&#39;{name} owns %n files&#39;</span><span class="hl-1">, </span><span class="hl-8">100</span><span class="hl-1">, { </span><span class="hl-0">name:</span><span class="hl-1"> </span><span class="hl-4">&#39;Jane&#39;</span><span class="hl-1"> })</span>
</code><button type="button">Copy</button></pre>

<a id="independent-translation" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Independent translation<a href="#independent-translation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>It is also possible to use this package for Nextcloud independent translations.
This is mostly useful for libraries that provide translated strings.</p>
<p>Independent means you can use this without Nextcloud registered translations buy just providing your <code>.po</code> files.
If you decide to use this way you have to extract the translation strings manually, for example using the <a href="https://github.com/lukasgeiter/gettext-extractor">gettext-extractor</a>.</p>
<pre><code class="js"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-0">getGettextBuilder</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-4">&#39;@nextcloud/l10n/gettext&#39;</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-2">po</span><span class="hl-1"> = ... </span><span class="hl-5">// Use https://github.com/smhg/gettext-parser to read and convert your .po(t) file</span><br/><br/><span class="hl-5">// When using this for a Nextcloud app you can auto-detect the language</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-2">gt</span><span class="hl-1"> = </span><span class="hl-6">getGettextBuilder</span><span class="hl-1">()</span><br/><span class="hl-1">    .</span><span class="hl-6">detectLocale</span><span class="hl-1">()</span><br/><span class="hl-1">    .</span><span class="hl-6">addTranslation</span><span class="hl-1">(</span><span class="hl-4">&#39;sv&#39;</span><span class="hl-1">, </span><span class="hl-0">po</span><span class="hl-1">)</span><br/><span class="hl-1">    .</span><span class="hl-6">build</span><span class="hl-1">()</span><br/><br/><span class="hl-5">// But it is also possible to force a language</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-2">gt</span><span class="hl-1"> = </span><span class="hl-6">getGettextBuilder</span><span class="hl-1">()</span><br/><span class="hl-1">    .</span><span class="hl-6">setLocale</span><span class="hl-1">(</span><span class="hl-4">&#39;sv&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">    .</span><span class="hl-6">addTranslation</span><span class="hl-1">(</span><span class="hl-4">&#39;sv&#39;</span><span class="hl-1">, </span><span class="hl-0">po</span><span class="hl-1">)</span><br/><span class="hl-1">    .</span><span class="hl-6">build</span><span class="hl-1">()</span>
</code><button type="button">Copy</button></pre>

<p>To make things easier you could also create aliases for this in a module and reuse it in your code:</p>
<pre><code class="ts"><span class="hl-5">// When using JavaScript</span><br/><span class="hl-3">export</span><span class="hl-1"> </span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-6">t</span><span class="hl-1"> = (...</span><span class="hl-0">args</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> </span><span class="hl-0">gt</span><span class="hl-1">.</span><span class="hl-6">gettext</span><span class="hl-1">(...</span><span class="hl-0">args</span><span class="hl-1">)</span><br/><span class="hl-3">export</span><span class="hl-1"> </span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-6">n</span><span class="hl-1"> = (...</span><span class="hl-0">args</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> </span><span class="hl-0">gt</span><span class="hl-1">.</span><span class="hl-6">ngettext</span><span class="hl-1">(...</span><span class="hl-0">args</span><span class="hl-1">)</span><br/><br/><span class="hl-5">// When using Typescript</span><br/><span class="hl-3">export</span><span class="hl-1"> </span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-6">t</span><span class="hl-1"> = (...</span><span class="hl-0">args</span><span class="hl-1">: </span><span class="hl-9">Parameters</span><span class="hl-1">&lt;</span><span class="hl-7">typeof</span><span class="hl-1"> </span><span class="hl-0">gt</span><span class="hl-1">.</span><span class="hl-0">gettext</span><span class="hl-1">&gt;) </span><span class="hl-7">=&gt;</span><span class="hl-1"> </span><span class="hl-0">gt</span><span class="hl-1">.</span><span class="hl-6">gettext</span><span class="hl-1">(...</span><span class="hl-0">args</span><span class="hl-1">)</span><br/><span class="hl-3">export</span><span class="hl-1"> </span><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-6">n</span><span class="hl-1"> = (...</span><span class="hl-0">args</span><span class="hl-1">: </span><span class="hl-9">Parameters</span><span class="hl-1">&lt;</span><span class="hl-7">typeof</span><span class="hl-1"> </span><span class="hl-0">gt</span><span class="hl-1">.</span><span class="hl-0">ngettext</span><span class="hl-1">&gt;) </span><span class="hl-7">=&gt;</span><span class="hl-1"> </span><span class="hl-0">gt</span><span class="hl-1">.</span><span class="hl-6">ngettext</span><span class="hl-1">(...</span><span class="hl-0">args</span><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

<a id="translate-single-string" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Translate single string<a href="#translate-single-string" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="js"><span class="hl-0">gt</span><span class="hl-1">.</span><span class="hl-6">gettext</span><span class="hl-1">(</span><span class="hl-4">&#39;my source string&#39;</span><span class="hl-1">)</span><br/><br/><span class="hl-5">// or if you are using the aliases mentioned above:</span><br/><span class="hl-6">t</span><span class="hl-1">(</span><span class="hl-4">&#39;my source string&#39;</span><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

<a id="placeholders" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Placeholders<a href="#placeholders" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="js"><span class="hl-0">gt</span><span class="hl-1">.</span><span class="hl-6">gettext</span><span class="hl-1">(</span><span class="hl-4">&#39;this is a {placeholder}. and this is {key2}&#39;</span><span class="hl-1">, {</span><br/><span class="hl-1">    </span><span class="hl-0">placeholder:</span><span class="hl-1"> </span><span class="hl-4">&#39;test&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">key2:</span><span class="hl-1"> </span><span class="hl-4">&#39;also a test&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">})</span>
</code><button type="button">Copy</button></pre>

<a id="translate-plurals" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Translate plurals<a href="#translate-plurals" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="js"><span class="hl-0">gt</span><span class="hl-1">.</span><span class="hl-6">ngettext</span><span class="hl-1">(</span><span class="hl-4">&#39;%n Mississippi&#39;</span><span class="hl-1">, </span><span class="hl-4">&#39;%n Mississippi&#39;</span><span class="hl-1">, </span><span class="hl-8">3</span><span class="hl-1">)</span><br/><br/><span class="hl-5">// or if you are using the aliases mentioned above:</span><br/><span class="hl-6">n</span><span class="hl-1">(</span><span class="hl-4">&#39;%n Mississippi&#39;</span><span class="hl-1">, </span><span class="hl-4">&#39;%n Mississippi&#39;</span><span class="hl-1">, </span><span class="hl-8">3</span><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#nextcloudl10n-1"><span>@nextcloud/l10n</span></a><ul><li><a href="#installation"><span>Installation</span></a></li><li><a href="#usage"><span>Usage</span></a></li><li><ul><li><a href="#with-nextcloud-based-translations"><span>With <wbr/>Nextcloud based translations</span></a></li><li><ul><li><a href="#translate-singular-string"><span>Translate singular string</span></a></li><li><a href="#translate-singular-string-with-placeholders"><span>Translate singular string with placeholders</span></a></li><li><a href="#translate-plural-string"><span>Translate plural string</span></a></li></ul></li><li><a href="#independent-translation"><span>Independent translation</span></a></li><li><ul><li><a href="#translate-single-string"><span>Translate single string</span></a></li><li><a href="#placeholders"><span>Placeholders</span></a></li><li><a href="#translate-plurals"><span>Translate plurals</span></a></li></ul></li></ul></li></ul></div></details></div><div class="site-menu"><nav id="tsd-sidebar-links" class="tsd-navigation"><a href="https://github.com/nextcloud-libraries/nextcloud-l10n/" class="tsd-nav-link">GitHub</a><a href="https://docs.nextcloud.com/server/stable/developer_manual/basics/front-end/l10n.html" class="tsd-nav-link">Nextcloud</a></nav><nav class="tsd-navigation"><a href="modules.html">@nextcloud/l10n</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
